{"version":3,"sources":["data.js","App.js","index.js"],"names":["employees","backendURL","fileUploaderRef","React","createRef","imgRef","cellRender","data","src","value","alt","onClick","e","fileUploaderInstance","current","instance","i","_files","length","uploadStarted","upload","onValueChanged","reader","FileReader","onload","args","setAttribute","target","result","readAsDataURL","App","props","useState","retryButtonVisible","setRetryButtonVisible","onUploaded","useCallback","cellInfo","setValue","request","responseText","onUploadError","xhttp","status","message","error","readyState","onEditCanceled","onSaved","id","dataSource","keyExpr","showBorders","mode","allowUpdating","title","showTitle","width","itemType","colCount","colSpan","dataField","caption","allowSorting","editCellRender","ref","className","multiple","accept","uploadMode","uploadUrl","text","visible","dataType","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b178f81f.chunk.js","sourcesContent":["export const employees = [{\r\n  \"ID\": 1,\r\n  \"FirstName\": \"John\",\r\n  \"LastName\": \"Heart\",\r\n  \"Prefix\": \"Mr.\",\r\n  \"Position\": \"CEO\",\r\n  \"Picture\": \"images/employees/01.png\",\r\n  \"BirthDate\": \"1964/03/16\",\r\n  \"HireDate\": \"1995/01/15\",\r\n  \"Notes\": \"John has been in the Audio/Video industry since 1990. He has led DevAv as its CEO since 2003.\\r\\n\\r\\nWhen not working hard as the CEO, John loves to golf and bowl. He once bowled a perfect game of 300.\",\r\n  \"Address\": \"351 S Hill St.\"\r\n}, {\r\n  \"ID\": 20,\r\n  \"FirstName\": \"Olivia\",\r\n  \"LastName\": \"Peyton\",\r\n  \"Prefix\": \"Mrs.\",\r\n  \"Position\": \"Sales Assistant\",\r\n  \"Picture\": \"images/employees/09.png\",\r\n  \"BirthDate\": \"1981/06/03\",\r\n  \"HireDate\": \"2012/05/14\",\r\n  \"Notes\": \"Olivia loves to sell. She has been selling DevAV products since 2012. \\r\\n\\r\\nOlivia was homecoming queen in high school. She is expecting her first child in 6 months. Good Luck Olivia.\",\r\n  \"Address\": \"807 W Paseo Del Mar\"\r\n}, {\r\n  \"ID\": 4,\r\n  \"FirstName\": \"Robert\",\r\n  \"LastName\": \"Reagan\",\r\n  \"Prefix\": \"Mr.\",\r\n  \"Position\": \"CMO\",\r\n  \"Picture\": \"images/employees/03.png\",\r\n  \"BirthDate\": \"1974/09/07\",\r\n  \"HireDate\": \"2002/11/08\",\r\n  \"Notes\": \"Robert was recently voted the CMO of the year by CMO Magazine. He is a proud member of the DevAV Management Team.\\r\\n\\r\\nRobert is a championship BBQ chef, so when you get the chance ask him for his secret recipe.\",\r\n  \"Address\": \"4 Westmoreland Pl.\"\r\n}, {\r\n  \"ID\": 5,\r\n  \"FirstName\": \"Greta\",\r\n  \"LastName\": \"Sims\",\r\n  \"Prefix\": \"Ms.\",\r\n  \"Position\": \"HR Manager\",\r\n  \"Picture\": \"images/employees/04.png\",\r\n  \"BirthDate\": \"1977/11/22\",\r\n  \"HireDate\": \"1998/04/23\",\r\n  \"Notes\": \"Greta has been DevAV's HR Manager since 2003. She joined DevAV from Sonee Corp.\\r\\n\\r\\nGreta is currently training for the NYC marathon. Her best marathon time is 4 hours. Go Greta.\",\r\n  \"Address\": \"1700 S Grandview Dr.\"\r\n}, {\r\n  \"ID\": 6,\r\n  \"FirstName\": \"Brett\",\r\n  \"LastName\": \"Wade\",\r\n  \"Prefix\": \"Mr.\",\r\n  \"Position\": \"IT Manager\",\r\n  \"Picture\": \"images/employees/05.png\",\r\n  \"BirthDate\": \"1968/12/01\",\r\n  \"HireDate\": \"2009/03/06\",\r\n  \"Notes\": \"Brett came to DevAv from Microsoft and has led our IT department since 2012.\\r\\n\\r\\nWhen he is not working hard for DevAV, he coaches Little League (he was a high school pitcher).\",\r\n  \"Address\": \"1120 Old Mill Rd.\"\r\n}, {\r\n  \"ID\": 7,\r\n  \"FirstName\": \"Sandra\",\r\n  \"LastName\": \"Johnson\",\r\n  \"Prefix\": \"Mrs.\",\r\n  \"Position\": \"Controller\",\r\n  \"Picture\": \"images/employees/06.png\",\r\n  \"BirthDate\": \"1974/11/15\",\r\n  \"HireDate\": \"2005/05/11\",\r\n  \"Notes\": \"Sandra is a CPA and has been our controller since 2008. She loves to interact with staff so if you've not met her, be certain to say hi.\\r\\n\\r\\nSandra has 2 daughters both of whom are accomplished gymnasts.\",\r\n  \"Address\": \"4600 N Virginia Rd.\"\r\n}, {\r\n  \"ID\": 10,\r\n  \"FirstName\": \"Kevin\",\r\n  \"LastName\": \"Carter\",\r\n  \"Prefix\": \"Mr.\",\r\n  \"Position\": \"Shipping Manager\",\r\n  \"Picture\": \"images/employees/07.png\",\r\n  \"BirthDate\": \"1978/01/09\",\r\n  \"HireDate\": \"2009/08/11\",\r\n  \"Notes\": \"Kevin is our hard-working shipping manager and has been helping that department work like clockwork for 18 months.\\r\\n\\r\\nWhen not in the office, he is usually on the basketball court playing pick-up games.\",\r\n  \"Address\": \"424 N Main St.\"\r\n}, {\r\n  \"ID\": 11,\r\n  \"FirstName\": \"Cynthia\",\r\n  \"LastName\": \"Stanwick\",\r\n  \"Prefix\": \"Ms.\",\r\n  \"Position\": \"HR Assistant\",\r\n  \"Picture\": \"images/employees/08.png\",\r\n  \"BirthDate\": \"1985/06/05\",\r\n  \"HireDate\": \"2008/03/24\",\r\n  \"Notes\": \"Cindy joined us in 2008 and has been in the HR department for 2 years. \\r\\n\\r\\nShe was recently awarded employee of the month. Way to go Cindy!\",\r\n  \"Address\": \"2211 Bonita Dr.\"\r\n}, {\r\n  \"ID\": 30,\r\n  \"FirstName\": \"Kent\",\r\n  \"LastName\": \"Samuelson\",\r\n  \"Prefix\": \"Dr.\",\r\n  \"Position\": \"Ombudsman\",\r\n  \"Picture\": \"images/employees/02.png\",\r\n  \"BirthDate\": \"1972/09/11\",\r\n  \"HireDate\": \"2009/04/22\",\r\n  \"Notes\": \"As our ombudsman, Kent is on the front-lines solving customer problems and helping our partners address issues out in the field.    He is a classically trained musician and is a member of the Chamber Orchestra.\",\r\n  \"Address\": \"12100 Mora Dr\"\r\n}];\r\n","import React, {useState, useCallback} from 'react';\r\nimport DataGrid, {Column, Editing, Popup, Form} from 'devextreme-react/data-grid';\r\nimport {Item} from 'devextreme-react/form';\r\nimport Button from 'devextreme-react/button';\r\nimport FileUploader from 'devextreme-react/file-uploader';\r\n\r\nimport {employees} from './data.js';\r\n\r\nconst backendURL = \"http://localhost:5000/\";\r\nlet fileUploaderRef = React.createRef();\r\nlet imgRef = React.createRef();\r\n\r\nconst cellRender = data => {\r\n  return <img src={backendURL + data.value} alt=\"employee pic\"/>;\r\n}\r\n\r\nconst onClick = e => {\r\n  // The retry UI/API is not implemented. Use a private API as shown at T611719.\r\n  const fileUploaderInstance = fileUploaderRef.current.instance;\r\n  for (let i = 0; i < fileUploaderInstance._files.length; i++) {\r\n    delete fileUploaderInstance._files[i].uploadStarted;\r\n  }\r\n  fileUploaderInstance.upload();\r\n};\r\n\r\nconst onValueChanged = e => {\r\n  const reader = new FileReader();\r\n  reader.onload = function (args) {\r\n    imgRef.current.setAttribute('src', args.target.result);\r\n  }\r\n  reader.readAsDataURL(e.value[0]); // convert to base64 string\r\n};\r\n\r\nfunction App(props) {\r\n  const [retryButtonVisible, setRetryButtonVisible] = useState(false);\r\n\r\n  function editCellRender(cellInfo) {\r\n    return (\r\n      <>\r\n        <img ref={imgRef} className=\"uploadedImage\" src={backendURL + cellInfo.value} alt=\"employee pic\"/>\r\n        <FileUploader ref={fileUploaderRef} multiple={false} accept=\"image/*\" uploadMode=\"instantly\"\r\n                      uploadUrl={backendURL + \"FileUpload/post\"} onValueChanged={onValueChanged}\r\n                      onUploaded={e => onUploaded(e, cellInfo)} onUploadError={onUploadError}/>\r\n        <Button className={\"retryButton\"} text=\"Retry\" visible={retryButtonVisible} onClick={onClick}/>\r\n      </>\r\n    );\r\n  }\r\n\r\n  const onUploaded = useCallback((e, cellInfo) => {\r\n    cellInfo.setValue(\"images/employees/\" + e.request.responseText);\r\n    setRetryButtonVisible(false);\r\n  }, []);\r\n\r\n  const onUploadError = useCallback(e => {\r\n    let xhttp = e.request;\r\n    if (xhttp.status === 400) {\r\n      e.message = e.error.responseText;\r\n    }\r\n    if (xhttp.readyState === 4 && xhttp.status === 0) {\r\n      e.message = \"Connection refused\";\r\n    }\r\n    setRetryButtonVisible(true);\r\n  }, []);\r\n\r\n  const onEditCanceled = useCallback(e => {\r\n    if (retryButtonVisible)\r\n      setRetryButtonVisible(false);\r\n  }, [retryButtonVisible])\r\n\r\n  const onSaved = useCallback(e => {\r\n    if (retryButtonVisible)\r\n      setRetryButtonVisible(false);\r\n  }, [retryButtonVisible])\r\n\r\n  return (\r\n    <DataGrid id=\"gridContainer\"\r\n              dataSource={employees}\r\n              keyExpr={\"ID\"}\r\n              showBorders={true}\r\n              onEditCanceled={onEditCanceled}\r\n              onSaved={onSaved}\r\n    >\r\n      <Editing\r\n        mode=\"popup\"\r\n        allowUpdating={true}>\r\n        <Popup title=\"Employee Info\" showTitle={true} width={700}/>\r\n        <Form>\r\n          <Item itemType=\"group\" colCount={2} colSpan={2}>\r\n            <Item dataField=\"Prefix\"/>\r\n            <Item dataField=\"FirstName\"/>\r\n            <Item dataField=\"LastName\"/>\r\n            <Item dataField=\"Position\"/>\r\n            <Item dataField=\"BirthDate\"/>\r\n            <Item dataField=\"HireDate\"/>\r\n          </Item>\r\n          <Item itemType=\"group\" caption=\"Photo\" colCount={2} colSpan={2}>\r\n            <Item dataField=\"Picture\" colSpan={2}/>\r\n          </Item>\r\n        </Form>\r\n      </Editing>\r\n      <Column dataField=\"Picture\"\r\n              width={70}\r\n              allowSorting={false}\r\n              cellRender={cellRender}\r\n              editCellRender={editCellRender}\r\n      />\r\n      <Column dataField=\"Prefix\"\r\n              width={70}\r\n              caption=\"Title\"\r\n      />\r\n      <Column dataField=\"FirstName\"/>\r\n      <Column dataField=\"LastName\"/>\r\n      <Column dataField=\"Position\"/>\r\n      <Column dataField=\"BirthDate\" dataType=\"date\"/>\r\n      <Column dataField=\"HireDate\" dataType=\"date\"/>\r\n    </DataGrid>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import './styles.css';\n\rimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App.js';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('app')\n);\n"],"sourceRoot":""}